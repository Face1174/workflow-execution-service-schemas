
[[_definitions]]
== Definitions

[[_defaultworkflowengineparameter]]
=== DefaultWorkflowEngineParameter
A message that allows one to describe default parameters for a workflow
engine.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**default_value** +
__optional__|The stringified version of the default parameter. e.g. "2.45".|string
|**type** +
__optional__|Describes the type of the parameter, e.g. float.|string
|===


[[_errorresponse]]
=== ErrorResponse
An object that can optionally include information about the error.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**msg** +
__optional__|A detailed error message.|string
|**status_code** +
__optional__|The integer representing the HTTP status code (e.g. 200, 404).|integer
|===


[[_log]]
=== Log

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**cmd** +
__optional__|< string > array
|**end_time** +
__optional__|string
|**exit_code** +
__optional__|integer (int32)
|**name** +
__optional__|string
|**start_time** +
__optional__|string
|**stderr** +
__optional__|string
|**stdout** +
__optional__|string
|===


[[_runid]]
=== RunId

[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**run_id** +
__optional__|string
|===


[[_runlistresponse]]
=== RunListResponse
The service will return a RunListResponse when receiving a successful RunListRequest.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**next_page_token** +
__optional__|A token which may be supplied as "page_token" in workflow run list request to get the next page
of results. An empty string indicates there are no more items to return.|string
|**runs** +
__optional__|A list of workflow runs that the service has executed or is executing.|< <<_runstatus,RunStatus>> > array
|===


[[_runlog]]
=== RunLog

[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**outputs** +
__optional__||<<_wesobject,WesObject>>
|**request** +
__optional__|The original request message used to initiate this execution.|<<_runrequest,RunRequest>>
|**run_id** +
__optional__||string
|**run_log** +
__optional__||<<_log,Log>>
|**state** +
__optional__||<<_state,State>>
|**task_logs** +
__optional__||< <<_log,Log>> > array
|===


[[_runrequest]]
=== RunRequest
To execute a workflow, send a run request including all the details needed to begin downloading
and executing a given workflow.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**tags** +
__optional__||< string, string > map
|**workflow_engine_parameters** +
__optional__|OPTIONAL
Additional parameters can be sent to the workflow engine using this field. Default values
for these parameters are provided at the ServiceInfo endpoint.|< string, string > map
|**workflow_params** +
__optional__|REQUIRED
The workflow run parameterization document (typically a JSON file), includes all parameterizations for the run
including input and output file locations.|<<_wesobject,WesObject>>
|**workflow_type** +
__optional__||string
|**workflow_type_version** +
__optional__||string
|**workflow_url** +
__optional__|REQUIRED
The workflow CWL or WDL document.
When workflow attachments files are provided, the `workflow_url` may be a relative path
corresponding to one of the attachments.|string
|===


[[_runstatus]]
=== RunStatus
Small description of a workflow run, returned by server during listing


[options="header", cols=".^3,.^4"]
|===
|Name|Schema
|**run_id** +
__required__|string
|**state** +
__optional__|<<_state,State>>
|===


[[_serviceinfo]]
=== ServiceInfo
A message containing useful information about the running service, including supported versions and
default settings.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**auth_instructions_url** +
__optional__|A web page URL with information about how to get an
authorization token necessary to use a specific endpoint.|string
|**contact_info** +
__optional__|An email address or web page URL with contact information
for the operator of a specific WES endpoint. Users of the
endpoint should use this to report problems or security
vulnerabilities.|string
|**default_workflow_engine_parameters** +
__optional__|Each workflow engine can present additional parameters that can be sent to the
workflow engine. This message will list the default values, and their types for each
workflow engine.|< <<_defaultworkflowengineparameter,DefaultWorkflowEngineParameter>> > array
|**supported_filesystem_protocols** +
__optional__|The filesystem protocols supported by this service, currently these may include common
protocols such as 'http', 'https', 'sftp', 's3', 'gs', 'file', 'synapse', or others as
supported by this service.|< string > array
|**supported_wes_versions** +
__optional__||< string > array
|**system_state_counts** +
__optional__|The system statistics, key is the statistic, value is the count of runs in that state.
See the State enum for the possible keys.|< string, integer (int64) > map
|**tags** +
__optional__||< string, string > map
|**workflow_engine_versions** +
__optional__||< string, string > map
|**workflow_type_versions** +
__optional__||< string, <<_workflowtypeversion,WorkflowTypeVersion>> > map
|===


[[_state]]
=== State
* UNKNOWN: The state of the task is unknown.

This provides a safe default for messages where this field is missing,
for example, so that a missing field does not accidentally imply that
the state is QUEUED.
 - QUEUED: The task is queued.
 - INITIALIZING: The task has been assigned to a worker and is currently preparing to run.
For example, the worker may be turning on, downloading input files, etc.
 - RUNNING: The task is running. Input files are downloaded and the first Executor
has been started.
 - PAUSED: The task is paused.

An implementation may have the ability to pause a task, but this is not required.
 - COMPLETE: The task has completed running. Executors have exited without error
and output files have been successfully uploaded.
 - EXECUTOR_ERROR: The task encountered an error in one of the Executor processes. Generally,
this means that an Executor exited with a non-zero exit code.
 - SYSTEM_ERROR: The task was stopped due to a system error, but not from an Executor,
for example an upload failed due to network issues, the worker's ran out
of disk space, etc.
 - CANCELED: The task was canceled by the user.

__Type__ : enum (UNKNOWN, QUEUED, INITIALIZING, RUNNING, PAUSED, COMPLETE, EXECUTOR_ERROR, SYSTEM_ERROR, CANCELED)


[[_wesobject]]
=== WesObject
An arbitrary structured object.

__Type__ : object


[[_workflowtypeversion]]
=== WorkflowTypeVersion
Available workflow types supported by a given instance of the service.


[options="header", cols=".^3,.^11,.^4"]
|===
|Name|Description|Schema
|**workflow_type_version** +
__optional__|an array of one or more acceptable types for the Workflow Type. For
example, to send a base64 encoded WDL gzip, one could would offer
"base64_wdl1.0_gzip". By setting this value, and the path of the main WDL
to be executed in the workflow_url to "main.wdl" in the RunRequest.|< string > array
|===



